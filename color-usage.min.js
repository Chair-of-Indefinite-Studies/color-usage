!function(t,e){"use strict";function i(t){var e=this.trackedEntries[t];return{entry:t,index:e.index,usage:e.usage}}function r(t){return t.entry}var n=function(t){this.index=t,this.usage=0};n.prototype.incrementUsage=function(){this.usage++};var s=e.Usage=function(){t.Observable.call(this),this.count=0,this.trackedEntries={}};s.prototype=Object.create(t.Observable.prototype),s.prototype.constructor=s,s.prototype.register=function(t){var e=this.trackedEntries[t]=this.trackedEntries[t]||new n(this.count++);e.incrementUsage(),this.signal("registered",t,e.index,e.usage)},s.prototype.entries=function(t){return t=t||function(t,e){return t.index-e.index},Object.keys(this.trackedEntries).map(i.bind(this)).sort(t).map(r)};var o=e.UsageView=function(t,e,i){this.model=t,this.container=e,this.callback=i||function(){},this.registeredColors={},this.model.on("registered",this.register.bind(this)),this.initialize()};o.prototype.register=function(t,e,i){if(!this.registeredColors[t]){var r=this.registeredColors[t]=document.createElement("span");r.setAttribute("data-entry",t),this.container.appendChild(r),this.callback(r)}r=this.registeredColors[t],r.setAttribute("data-index",e),r.setAttribute("data-usage",i)},o.prototype.initialize=function(){this.model.entries(function(t,e){this.register(t,e,1)}.bind(this))}}(ns,window.color=window.color||{});